<div class="page-header recipe-header wrap vertical-wrap">
    <div class="top-content">
        <h1>{{recipe.title}}</h1>
        <div class="buttons">
            <button class="btn btn-rdb" (click)="copyLink()" ngbTooltip="Share link to this recipe">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path
                        d="M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"/>
                </svg>
            </button>
            <button class="btn btn-rdb" (click)="bookmark()" *ngIf="recipe.bookmarked === false" ngbTooltip="Bookmark this recipe">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"/>
                </svg>
            </button>
            <button class="btn btn-danger" (click)="unbookmark()" *ngIf="recipe.bookmarked === true" ngbTooltip="Unbookmark this recipe">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"/>
                </svg>
            </button>
            <button class="btn btn-danger" (click)="delete()" *ngIf="admin === true" ngbTooltip="Delete this recipe">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"/></svg>
            </button>
        </div>
    </div>
    <p class="text-muted">{{recipe.desc}}</p>
    <div>Rating: {{recipe.rating}} / 5</div>
</div>

<div class="page-header dark recipe-nutrition wrap">
    <div class="nutrition-item" *ngIf="recipe.calories !== undefined">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path
                d="M323.56 51.2c-20.8 19.3-39.58 39.59-56.22 59.97C240.08 73.62 206.28 35.53 168 0 69.74 91.17 0 209.96 0 281.6 0 408.85 100.29 512 224 512s224-103.15 224-230.4c0-53.27-51.98-163.14-124.44-230.4zm-19.47 340.65C282.43 407.01 255.72 416 226.86 416 154.71 416 96 368.26 96 290.75c0-38.61 24.31-72.63 72.79-130.75 6.93 7.98 98.83 125.34 98.83 125.34l58.63-66.88c4.14 6.85 7.91 13.55 11.27 19.97 27.35 52.19 15.81 118.97-33.43 153.42z"/>
        </svg>
        <div class="nutrition-title">Calories</div>
        <div class="nutrition-value">{{recipe.calories}} kcal</div>
    </div>
    <div class="nutrition-item" *ngIf="recipe.protein !== undefined">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
            <path
                d="M576 192c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zM64 240c-35.3 0-64 28.7-64 64s28.7 64 64 64 64-28.7 64-64-28.7-64-64-64zm449.6-37.2l-19.2-25.6-48 36 19.2 25.6 48-36zM576 384c-14.4 0-27.6 5-38.3 13l-96-57.6c3.8-11.2 6.3-23 6.3-35.5 0-61.9-50.1-112-112-112-8.4 0-16.6 1.1-24.4 2.9l-40.8-87.4C281.4 96 288 80.8 288 64c0-35.3-28.7-64-64-64s-64 28.7-64 64 28.7 64 64 64c1.1 0 2.1-.3 3.2-.3l41 87.8C241.5 235.9 224 267.8 224 304c0 61.9 50.1 112 112 112 32.1 0 60.8-13.7 81.2-35.3l95.8 57.5c-.5 3.2-1 6.5-1 9.8 0 35.3 28.7 64 64 64s64-28.7 64-64-28.7-64-64-64zm-240-32c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm-184-32h48v-32h-48v32z"/>
        </svg>
        <div class="nutrition-title">Protein</div>
        <div class="nutrition-value">{{recipe.protein}}g</div>
    </div>
    <div class="nutrition-item" *ngIf="recipe.fat !== undefined">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512">
            <path
                d="M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/>
        </svg>
        <div class="nutrition-title">Fat</div>
        <div class="nutrition-value">{{recipe.fat}}g</div>
    </div>
    <div class="nutrition-item" *ngIf="recipe.sodium !== undefined">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 229.997 229.997">
            <path
                d="M99.291,0.012  c-5.102,0.241-9.73,3.061-12.283,7.484c-0.457,0.797-0.839,1.633-1.143,2.5H58.649c-0.875-1.519-2.134-2.781-3.65-3.66  c-4.783-2.761-10.899-1.123-13.66,3.66c-1.749,3.041-1.777,6.775-0.074,9.842L20.161,55.01c-3.628-0.061-7.004,1.847-8.822,4.986  c-2.761,4.783-1.123,10.899,3.66,13.66c1.569,0.902,3.353,1.361,5.162,1.328l18.293,30.486c-2.153,2.599-3.455,5.922-3.455,9.525  c0,3.603,1.301,6.929,3.453,9.527l-15.465,25.775c-0.966-0.199-1.967-0.303-2.988-0.303c-8.225,0-15,6.775-15,15  c0,8.225,6.775,15,15,15c1.021,0,2.021-0.104,2.986-0.303l15.469,25.777c-2.153,2.599-3.455,5.922-3.455,9.526  c0,8.225,6.775,15,15,15c6.473,0,12.034-4.203,14.115-10h21.771c2.081,5.797,7.64,10,14.113,10c8.225,0,15-6.775,15-15  c0-3.604-1.3-6.928-3.453-9.528l15.467-25.775c0.966,0.199,1.965,0.303,2.986,0.303c6.473,0,12.034-4.203,14.115-10h27.24  c1.784,3.089,5.078,4.994,8.645,5c5.523,0,10-4.477,10-10c-0.004-1.696-0.439-3.362-1.264-4.844l18.275-30.457  c0.984,0.2,1.985,0.301,2.988,0.301c8.284,0,15-6.716,15-15s-6.716-15-15-15c-1.002,0.006-2,0.112-2.98,0.316l-18.277-30.465  c0.824-1.484,1.257-3.154,1.258-4.852c0-5.523-4.477-10-10-10c-3.568,0.004-6.864,1.91-8.648,5h-32.705  c-1.784-3.09-5.079-4.995-8.646-5c-0.055,0.003-0.111,0.006-0.166,0.01l-18.279-30.465c0.534-0.639,1.015-1.322,1.436-2.041  c4.142-7.174,1.684-16.348-5.49-20.49c-2.488-1.437-5.337-2.129-8.207-1.994L99.291,0.012z M58.658,19.997h27.205  c1.19,3.368,3.542,6.202,6.635,7.99c3.17,1.822,6.896,2.424,10.479,1.691l18.281,30.467c-0.825,1.484-1.258,3.154-1.26,4.852  c0.004,1.695,0.439,3.361,1.264,4.842l-18.275,30.461c-0.966-0.199-1.967-0.303-2.988-0.303c-6.473,0-12.032,4.204-14.113,10H64.113  c-2.082-5.796-7.643-10-14.115-10c-1.021,0-2.02,0.106-2.986,0.305L28.738,69.848c1.671-3.016,1.671-6.68,0-9.695l21.102-35.17  c3.628,0.061,7.004-1.847,8.822-4.986L58.658,19.997z M138.649,69.997h32.705c1.784,3.089,5.078,4.994,8.645,5  c0.055-0.003,0.111-0.006,0.166-0.01l18.273,30.457c-2.221,2.687-3.437,6.063-3.439,9.549c0.004,3.485,1.222,6.86,3.443,9.545  L180.162,155c-0.055-0.004-0.109-0.007-0.164-0.01c-3.568,0.004-6.864,1.91-8.648,5h-27.236c-2.082-5.796-7.643-10-14.115-10  c-1.022,0-2.021,0.106-2.988,0.305l-15.465-25.775c2.154-2.599,3.453-5.925,3.453-9.529c0-3.604-1.301-6.928-3.455-9.527  l18.291-30.48c0.055,0.004,0.109,0.007,0.164,0.01c3.569-0.004,6.866-1.909,8.65-5L138.649,69.997z M49.998,109.997  c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5C44.998,112.176,47.178,109.997,49.998,109.997z M99.998,109.997  c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5C94.998,112.176,97.178,109.997,99.998,109.997z M64.113,119.997  h21.771c2.081,5.797,7.64,10,14.113,10c1.021,0,2.022-0.104,2.988-0.303l15.467,25.777c-2.153,2.599-3.455,5.922-3.455,9.525  c0,3.603,1.301,6.929,3.453,9.527l-15.465,25.775c-0.966-0.199-1.967-0.303-2.988-0.303c-6.473,0-12.032,4.204-14.113,10H64.113  c-2.082-5.796-7.643-10-14.115-10c-1.022,0-2.021,0.106-2.988,0.305l-15.465-25.775c2.154-2.599,3.453-5.925,3.453-9.529  s-1.3-6.928-3.453-9.527l15.467-25.775c0.966,0.199,1.965,0.303,2.986,0.303C56.472,129.997,62.032,125.794,64.113,119.997  L64.113,119.997z M19.998,159.997c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5  C14.998,162.176,17.178,159.997,19.998,159.997z M129.998,159.997c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5  C124.998,162.176,127.178,159.997,129.998,159.997z M49.998,209.997c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5  S47.178,209.997,49.998,209.997z M99.998,209.997c2.821,0,5,2.179,5,5c0,2.821-2.179,5-5,5c-2.821,0-5-2.179-5-5  S97.178,209.997,99.998,209.997z"/>
        </svg>
        <div class="nutrition-title">Sodium</div>
        <div class="nutrition-value">{{recipe.sodium}}mg</div>
    </div>
</div>

<div class="wrap vertical-wrap" *ngIf="recipe !== {}">
    <div class="row">
        <div class="col-md-6">
            <h4>Ingredients</h4>
            <ul *ngIf="recipe.ingredients">
                <li *ngFor="let ingredient of recipe.ingredients">
                    {{ingredient}}
                </li>
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Directions</h4>
            <ol *ngIf="recipe.directions">
                <li *ngFor="let ingredient of recipe.directions">
                    {{ingredient}}
                </li>
            </ol>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h4>Comments</h4>
            <ul class="list-group">
                <div class="list-group-item comment-box" *ngIf="token !== null" [formGroup]="commentBox">
                    <textarea formControlName="body"></textarea>
                    <button class="btn btn-rdb" (click)="comment()">Comment</button>
                </div>
                <div *ngFor="let comment of comments" class="list-group-item comment">
                    <div class="info">
                        <div class="name">{{comment.user_name}}</div>
                        <div class="date">{{comment.date}}</div>
                    </div>
                    <div>{{comment.body}}</div>
                </div>
            </ul>
        </div>
    </div>
</div>
